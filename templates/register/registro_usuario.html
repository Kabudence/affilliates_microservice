<!DOCTYPE html>
<html>
<head>
    <title>Registro de usuario </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        body{background:#181818!important;color:#fff;}
        .registro-container{max-width:450px;margin:50px auto;background:#232323;
                            padding:32px 28px 22px;border-radius:1rem;
                            box-shadow:0 4px 24px rgba(0,0,0,.19);}
        .form-label{color:#fff;}
        .btn-danger{width:100%;background:#e50914;border:none;}
        .btn-danger:active{background:#b0060f;}
    </style>
</head>
<body style="display:flex;flex-direction:column;min-height:100vh;">
<div class="registro-container">
  <!-- TÍTULO DINÁMICO -->
  <h3 class="mb-3 text-center">{{ titulo }}</h3>

  <form method="post" action="{{ url_for('register_module_api.register_user') }}">
    <!-- datos visibles --------------------------------------- -->
    <div class="mb-2">
      <label class="form-label">Nombre completo</label>
      <input class="form-control" type="text" name="nombre" required>
    </div>
    <div class="mb-2">
      <label class="form-label">DNI</label>
      <input class="form-control" type="text" name="dni" required>
    </div>
    <div class="mb-2">
      <label class="form-label">Email</label>
      <input class="form-control" type="email" name="email" required>
    </div>
    <div class="mb-2">
      <label class="form-label">Celular</label>
      <input class="form-control" type="text" name="celular" required>
    </div>
    <div class="mb-2">
      <label class="form-label">Usuario</label>
      <input class="form-control" type="text" name="username" required>
    </div>
    <div class="mb-2">
      <label class="form-label">Contraseña</label>
      <input class="form-control" type="password" name="password" required>
    </div>


    <!-- ROL FIJO Y OCULTO -->
    <input type="hidden" name="role" value="{{ default_role }}">

    <!-- campos ocultos --------------------------------------- -->
<input type="hidden" name="plan_time_id" value="{{ plan_time_id if plan_time_id else '' }}">
    {% if user_owner_id %}
      <input type="hidden" name="user_owner_id" value="{{ user_owner_id }}">
    {% endif %}

    <button class="btn btn-danger mt-3" type="submit">Registrarme</button>
  </form>
</div>
{% include "shared/footer.html" %}

</body>
</html>
