<!DOCTYPE html>
<html>
<head>
    <title>Dashboard – EmprendeX</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #181818 !important; color: #fff; min-height: 100vh; margin: 0; }
        .dashboard-root { display: flex; min-height: 100vh; }
        .sidebar {
            background: #232323;
            width: 235px;
            min-height: 100vh;
            padding: 38px 18px 24px 16px;
            border-right: 3px solid #e50914;
            font-family: Inter, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: sticky; top: 0;
        }
        .sidebar-title { color: #e50914; font-size: 1.6rem; font-weight: 900; margin-bottom: 40px; }
        .sidebar-link {
            color: #fff;
            text-decoration: none;
            display: block;
            margin-bottom: 17px;
            font-size: 1.06rem;
            border-radius: 8px;
            padding: 8px 12px;
            transition: background .18s, color .18s;
            font-weight: 500;
        }
        .sidebar-link:hover, .sidebar-link.active { background: #e50914; color: #fff; }
        .sidebar-bottom { margin-top: auto; }
        .sidebar-user { font-size: .97rem; color: #bbb; margin-bottom: 18px; }
        .main-content { flex: 1; padding: 44px 40px 30px 40px; background: #181818; min-height: 100vh;}
        @media (max-width: 900px) {
            .sidebar { width: 100px; padding: 18px 5px; }
            .sidebar-title { font-size: 1.1rem; }
            .main-content { padding: 24px 6vw; }
        }
    </style>
</head>
<body>
<div class="dashboard-root">


    <aside class="sidebar">
        <div>
<div class="sidebar-title">
    {% if user_data.role is defined %}
        Emprende<span style="color:#fff;">X</span>
    {% elif user_data.type is defined %}
        FullVentas<span style="color:#fff;">Gym</span>
    {% else %}
        <!-- fallback por si no hubiera ninguno -->
        Sistema
    {% endif %}
</div>
{% if user_data.role == 'dueno_tienda' or user_data.type == '2' %}
    <a href="{{ url_for('register_module_api.generar_links') }}" class="sidebar-link">Generación de links</a>
<a href="{{ url_for('rental_module_api.comisiones_usuario') }}" class="sidebar-link">Comisiones actuales</a>
            {% elif user_data.role == 'administrador' %}
                <a href="/modulos" class="sidebar-link">Módulos</a>
            <a href="{{ url_for('rental_module_api.planes_index') }}" class="sidebar-link">Planes</a>
<a href="{{ url_for('rental_module_api.metas_index') }}" class="sidebar-link">Metas</a>
<a href="{{ url_for('rental_module_api.aplicaciones_index') }}" class="sidebar-link">Aplicaciones</a>
<a href="{{ url_for('rental_module_api.inscription_levels_index') }}" class="sidebar-link">Niveles Inscripción</a>
<a href="{{ url_for('rental_module_api.royalties_index') }}" class="sidebar-link">Royalties</a>
            {% endif %}
        </div>
        <div class="sidebar-bottom">
            <div class="sidebar-user">
                <i class="fa fa-user-circle"></i> {{ user_data.username }}
                <br>
                <span style="font-size:.94em;">Rol: <b>{{ user_data.role|capitalize }}</b></span>
            </div>
            <a href="/logout" class="sidebar-link" style="color:#e50914;"><i class="fa fa-sign-out-alt"></i> Logout</a>
        </div>
    </aside>

    <!-- CONTENIDO PRINCIPAL -->
    <main class="main-content">
        <h2 class="mb-4" style="color:#e50914; font-weight:900;">Bienvenido{{ user_data.username and (', ' ~ user_data.username)|safe }}</h2>
        <p>Selecciona una opción del menú para empezar.</p>
        <!-- Aquí irá tu contenido dinámico -->
    </main>
</div>
<!-- FontAwesome para iconos de usuario/logout -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</body>
</html>
